# SSH接続ができない場合の代替方法

## 状況

`kanazawa-application-support.jp` へのSSH接続が "Connection timed out" で失敗する場合の対処法です。

## 対処法

### 方法1: 既存のポスターマッピングシステムへの接続方法を確認

既存のポスターマッピングシステム（`map.kanazawa-application-support.jp`）への接続方法を確認してください：

1. **既存の接続方法を確認**
   - 以前にサーバーに接続したことがある場合、その方法を思い出してください
   - 接続に使用したコマンド、ユーザー名、ポート番号などを確認

2. **SSH設定ファイルを確認**
   ```powershell
   # SSH設定ファイルを確認
   Get-Content ~/.ssh/config
   ```
   既存の接続設定があれば、それを参考にできます

3. **サーバー管理画面を確認**
   - サーバー提供元の管理画面でSSH接続情報を確認
   - IPアドレス、ポート番号、ユーザー名などを確認

### 方法2: サーバー管理画面から公開鍵を追加

SSH接続ができない場合、サーバー提供元の管理画面から公開鍵を追加できる場合があります：

1. **サーバー管理画面にログイン**
2. **SSH鍵管理**または**公開鍵追加**の機能を探す
3. **公開鍵を追加**
   - 公開鍵の内容: `ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAICQR3lCbhG/okee/qgXt7LvzsD1gYcSuzuXZKa1A+qAI mokoh@TomohikoSASANO`

### 方法3: サーバー管理者に問い合わせ

サーバー管理者に以下を確認：

1. **SSH接続情報**
   - サーバーのIPアドレス
   - SSHポート番号（デフォルト: 22）
   - 接続用のユーザー名

2. **公開鍵の追加方法**
   - SSH接続ができない場合、公開鍵を追加する方法を確認

### 方法4: 一時的に手動デプロイ

SSH接続が確立するまでの間、手動でデプロイすることも可能です：

```powershell
# ローカルでビルド
npm run build

# サーバーに接続できるようになったら、以下でアップロード
# scp -r dist/* ユーザー名@サーバー:/var/www/task.kanazawa-application-support.jp/
```

## 次のステップ

1. **既存のポスターマッピングシステムへの接続方法を確認**
   - 以前の接続記録やドキュメントを確認

2. **サーバー管理画面を確認**
   - SSH接続情報や公開鍵追加機能を確認

3. **サーバー管理者に問い合わせ**
   - SSH接続情報と公開鍵追加方法を確認

## ConoHa VPSサーバーの場合

以前ConoHaのVPSサーバーを使用していた場合：

1. **ConoHaのコントロールパネルにログイン**
2. **VPSサーバーの一覧から該当サーバーを選択**
3. **サーバー情報を確認**：
   - IPアドレス（グローバルIPアドレス）
   - ユーザー名（通常は `root` または `vpsadmin`）
   - パスワード
4. **VNCコンソールから接続**（推奨）
   - ConoHaのコントロールパネルから「コンソール」または「VNC」タブを開く
   - ブラウザ内でターミナルが開くので、そこから公開鍵を追加

詳細は `CONOHA_VPS_CONNECTION.md` を参照してください。

## 確認事項

- ConoHaのコントロールパネルでサーバーのIPアドレスを確認
- VNCコンソールから接続できるか確認
- 既存のポスターマッピングシステム（`map.kanazawa-application-support.jp`）への接続方法は？
- サーバー管理画面から公開鍵を追加できるか？
- SSHポート番号は？（デフォルト: 22）

これらの情報が分かれば、接続方法を特定できます。



